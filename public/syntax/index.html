<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>The history of modular JS</title>
    <link rel="stylesheet" type="text/css" href="../styles.css" />
  </head>
  <body>
    <header>
      <a href="/">H</a>
    </header>
    <main>
      <h1>ECMAScript modules good to know</h1>
      <h2>Syntax, specification</h2>
      <ul>
        <li><a href="http://2ality.com/2014/09/es6-modules-final.html#importing" target="blank">import</a> (only at top level)</li>
        <li><a href="http://2ality.com/2014/09/es6-modules-final.html#exporting" target="blank">export</a></li>
        <li><a href="http://2ality.com/2014/09/es6-modules-final.html#re-exporting" target="blank">re-exporting</a></li>
        <li><a href="http://2ality.com/2014/09/es6-modules-final.html#cyclic-dependencies-in-ecmascript-6" target="blank">bindings</a> (open developer tools)</li>
      </ul>
    </main>


    <script type="module">

        // imports are bindings not values

        import { counter, add, object } from './index.mjs';

        console.group('bindings');
        console.log('initial value: counter', counter);
        try {
          console.log('++counter', ++counter);
        } catch (e) {
          console.error(e);
        }

        console.log('add(2)', add(2));
        console.log('add(100)', add(100));

        console.groupEnd();













        console.groupCollapsed('nested');

        console.log('initial value: object.counter', object.counter);
        try {
          console.log('++object.counter', ++object.counter);
        } catch (e) {
          console.error(e);
        }

        object.counter = 999;

        console.log('++object.counter', ++object.counter);
        console.log('object.add()', object.add(2));
        console.log('object.add()', object.add(100));
        console.groupEnd();
      </script>


  </body>
</html>
